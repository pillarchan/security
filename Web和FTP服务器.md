# WEB服务器和FTP服务器

## WEB服务器

### 1、也称网页服务器或HTTP服务器

### 2、web服务器使用的协议是HTTP或HTTPS

### 3、端口号

1. HTTP协议端口号：TCP　80
2. HTTPS协议端口号：443

### 4、WEB服务器发布软件：

1. 微软：IIS（可发布web网站和FTP站点）
2. Linux：Apache、LAMP、Tomcat、Nginx、LNMP
3. 第三方：phpstudy、XAMPP

### 5、部署web服务器

1. 配置静态IP地址
2. 安装IIS-WEB插件
3. 停用默认站点
4. 新建网站--地址端口绑定--指定站点路径--设置权限
5. 设置默认文档（设置首页）
6. 一台服务器同时发布多个WEB站点：

### 6、练习测试

1. 不同IP，相同端口（测试）
2. 相同IP，不同端口（测试）
3. 相同IP，相同端口，不同域名（DNS主机头）

### 7、网站类型

1. 静态网站：一般扩展名为.html或.htm

   无后台数据库

2. 动态网页：一般扩展名为.asp或.php

   有后台数据库，asp或php可以连接前台页面与后台数据库

## FTP服务器

## 1、File Transfor Protocol

文件传输协议

## 2、端口号

TCP 20/21

## 3、FTP工作模式

1. 主动模式
   1. 21端口：控制端口
   2. 20端口：数据端口
   3. 服务器主动发送数据给客户机
   3. 流程：客户机输入FTP地址使用主动模式访问到FTP服务器，此时客户机上会生成两个的随机端口，其中一个端口开放给FTP服务器21端口的连接，客户机接收连接建立通信后输入用户名密码登录FTP服务器，FTP服务器验证成功后允许客户机登录。客户机登录成功后，便可以开始进行上传、下载等操作，当客户机执行下载操作时，客户通过另一个随机生成的端口号开放给FTP服务器端口20进行连接并传输数据
2. 被动模式
   1. FTP服务器21端口+端口作为数据传输端口
   2. 流程：客户机输入FTP地址使用被动模式访问到FTP服务器21端口，同时客户机上会生成两个的随机端口，其中一个接收服务器21端口的响应，客户机接收响应后输入用户名密码登录FTP服务器，FTP服务器验证成功后允许客户机登录。客户机成功后，便可以开始进行上传、下载等操作，当客户机执行下载操作时，FTP服务器将开启一个随机的数据端口开放给客户机生成的另一个端口进行连接并传输数据


注意：

1. 主被动模式：阐述的是数据传输过程

2. 主被动模式：选择权在客户机上

3. 主被动模式：所谓主或被是站在服务器的角度上

4. 如客户机开启了防火墙并且未开放随机生成的端口，则无法通信或传送数据。主动模式访问时，不建议客户机开启防火墙
5. 被动模式访问时，由于FTP的数据端口是随机生机的，所以被动访问时FTP防火墙应该开放客户机访问

## 4、配置FTP服务器

1）配置静态IP

2）安装IIS-ftp软件

3）使用默认站点或创建新的站点

注意：用户最终权限为FTP权限与NTFS权限取交集

建议：FTP权限全部勾选，然后具体在NTFS里做！

4）去掉匿名登录